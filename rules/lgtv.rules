//==================================================================================================
// lgtv.rules - Handle on/off and increase/decrease commands for the LG TV.
//==================================================================================================
//  v01 20191230    Initial version.
//--------------------------------------------------------------------------------------------------
// This rule assumes the Wake-On-LAN binding is also installed.
//==================================================================================================


//==================================================================================================
//
//==================================================================================================
rule "LGTV.Power.On - Power on TV via Wake on LAN"
when
    Item LGTV_Power_Livingroom received command ON
then
    LGTV_WoL_Livingroom.sendCommand(ON)
end


//==================================================================================================
// Handle volume increase/decrease commands.
//==================================================================================================
rule "LGTV.Volume.UpDown - Increase or decrease LGTV volume"
when
    Item LGTV_VolDummy_Livingroom received command
then
    switch receivedCommand
    {
        case 0:
        {
            LGTV_Volume_Livingroom.sendCommand(DECREASE)
        }
        case 1:
        {
            LGTV_Volume_Livingroom.sendCommand(INCREASE)
        }
    }
end


//==================================================================================================
// Handle channel up/down commands.
//==================================================================================================
rule "LGTV.Channel.UpDn - Increase or decrease LGTV channel number"
when
    Item LGTV_ChannelDummy_Livingroom received command
then
    val actions = getActions("lgwebos","lgwebos:WebOSTV:tvlivingroom")
    if (null === actions)
    {
        logInfo("LGTV.Channel.UpDn", "Actions not found (check thing ID)")
        return;
    }

    logInfo("LGTV.Channel.UpDn", "Received command '{}'", receivedCommand)
                
    switch receivedCommand
    {
        case 0:
        {
            actions.decreaseChannel()
        }
        case 1:
        {
            actions.increaseChannel()
        }
    }
end
